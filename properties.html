<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RING-0 | Lost & Found Properties</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg: #0f1220;
            --card: #171a2e;
            --accent: #5b8cff;
            --text: #e8eaf6;
            --muted: #9aa0c6;
            --success: #35d07f;
            --warning: #ff6b6b;
            --gold: #ffd700;
            --notification: #ff6b6b;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Inter', system-ui, Arial;
            background: linear-gradient(120deg, #0f1220, #0b0e1a);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Header Styles - Matching RING-0 Style */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: linear-gradient(270deg, #0f1220, #0b0e1a, #1b1f3d, #0f1220);
            background-size: 800% 800%;
            animation: gradientBG 15s ease infinite;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, .1);
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .header-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #fff;
        }
        
        .header-title .zero {
            color: var(--accent);
        }
        
        .header-nav {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .nav-btn {
            background: rgba(12, 16, 36, 0.8);
            border: 1px solid rgba(91, 140, 255, 0.3);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .nav-btn:hover {
            background: rgba(91, 140, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .notification-badge {
            background: var(--warning);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 5px;
        }
        
        /* Hero Section with Animation */
        .hero-section {
            height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(12, 16, 36, 0.7) 0%, rgba(23, 26, 46, 0.7) 100%);
        }
        
        .hero-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0;
            animation: heroAnimation 4s ease-in-out forwards;
            animation-delay: 0.5s;
        }
        
        @keyframes heroAnimation {
            0% {
                opacity: 0;
                transform: scale(1.2);
            }
            20% {
                opacity: 1;
                transform: scale(1.1);
            }
            80% {
                opacity: 1;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(1);
            }
        }
        
        .hero-text {
            font-size: 4rem;
            font-weight: 900;
            color: white;
            text-align: center;
            opacity: 0;
            animation: textFadeIn 2s ease-in-out forwards;
            animation-delay: 4s;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            letter-spacing: 2px;
        }
        
        @keyframes textFadeIn {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Main Content */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        /* Dashboard Tabs */
        .dashboard-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .tab-btn {
            background: transparent;
            border: none;
            color: var(--muted);
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .tab-btn.active {
            background: rgba(91, 140, 255, 0.1);
            color: var(--accent);
            border-bottom: 2px solid var(--accent);
        }
        
        .tab-btn:hover:not(.active) {
            background: rgba(155, 160, 198, 0.1);
        }
        
        .tab-content {
            display: none;
            animation: fadeInUp 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Stats Container */
        .stats-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2px;
            margin-bottom: 30px;
            background: rgba(12, 16, 36, 0.5);
            border-radius: 12px;
            border: none;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            flex: 1;
        }
        
        .stat-number {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 5px;
            line-height: 1;
        }
        
        .stat-label {
            color: var(--muted);
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        /* Property Upload Form */
        .upload-form {
            background: rgba(12, 16, 36, 0.5);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(91, 140, 255, 0.2);
        }
        
        .form-title {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 25px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            font-size: 0.8rem;
            color: var(--muted);
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            background: rgba(12, 16, 36, 0.8);
            border: 1px solid rgba(91, 140, 255, 0.3);
            border-radius: 8px;
            color: var(--text);
            font-size: 0.9rem;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }
        
        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(91, 140, 255, 0.2);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        /* Category Selection */
        .category-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .category-btn {
            flex: 1;
            padding: 2px;
            background: rgba(12, 16, 36, 0.5);
            border: 2px solid rgba(91, 140, 255, 0.2);
            border-radius: 12px;
            color: var(--text);
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .category-btn:hover {
            background: rgba(91, 140, 255, 0.1);
            transform: translateY(-5px);
        }
        
        .category-btn.active {
            background: rgba(91, 140, 255, 0.2);
            border-color: var(--accent);
            box-shadow: 0 10px 20px rgba(91, 140, 255, 0.1);
        }
        
        .category-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        /* Image Upload Area */
        .image-upload-area {
            border: 2px dashed rgba(91, 140, 255, 0.3);
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            background: rgba(12, 16, 36, 0.3);
        }
        
        .image-upload-area:hover {
            border-color: var(--accent);
            background: rgba(91, 140, 255, 0.05);
        }
        
        .image-upload-area.dragover {
            border-color: var(--success);
            background: rgba(53, 208, 127, 0.05);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--muted);
            margin-bottom: 15px;
        }
        
        .upload-text {
            color: var(--muted);
            font-size: 0.8rem;
            margin-bottom: 10px;
        }
        
        .upload-hint {
            color: var(--muted);
            font-size: 0.55rem;
        }
        
        .preview-image {
            max-width: 300px;
            max-height: 200px;
            border-radius: 8px;
            margin: 15px auto;
            display: block;
            border: 2px solid rgba(91, 140, 255, 0.3);
        }
        
        /* Form Buttons */
        .form-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
        }
        
        .form-btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-btn.primary {
            background: linear-gradient(90deg, var(--accent), #4a7dff);
            color: white;
        }
        
        .form-btn.primary:hover {
            background: linear-gradient(90deg, #4a7dff, var(--accent));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(91, 140, 255, 0.3);
        }
        
        .form-btn.secondary {
            background: rgba(155, 160, 198, 0.1);
            color: var(--text);
            border: 1px solid rgba(155, 160, 198, 0.3);
        }
        
        .form-btn.secondary:hover {
            background: rgba(155, 160, 198, 0.2);
            transform: translateY(-2px);
        }
        
        /* Search Section */
        .search-section {
            background: rgba(12, 16, 36, 0.5);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(91, 140, 255, 0.2);
        }
        
        .search-title {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .search-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        /* Properties Gallery */
        .properties-gallery {
            background: rgba(12, 16, 36, 0.5);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(91, 140, 255, 0.2);
        }
        
        .gallery-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .gallery-title {
            font-size: 1.5rem;
            color: var(--accent);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .view-toggle {
            display: flex;
            gap: 10px;
        }
        
        .view-btn {
            padding: 8px 16px;
            background: rgba(12, 16, 36, 0.8);
            border: 1px solid rgba(91, 140, 255, 0.3);
            color: var(--text);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .view-btn.active {
            background: rgba(91, 140, 255, 0.2);
            border-color: var(--accent);
            color: var(--accent);
        }
        
        /* Properties Grid */
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .property-card {
            background: radial-gradient(120% 120% at 0% 0%, #1b1f3d, var(--card));
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(91, 140, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: var(--accent);
        }
        
        .property-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .property-content {
            padding: 20px;
        }
        
        .property-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .property-type {
            background: rgba(91, 140, 255, 0.1);
            color: var(--accent);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .property-date {
            color: var(--muted);
            font-size: 0.75rem;
        }
        
        .property-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text);
        }
        
        .property-details {
            color: var(--muted);
            font-size: 0.85rem;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .property-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
        }
        
        .info-label {
            color: var(--muted);
            font-weight: 600;
        }
        
        .property-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .action-btn {
            flex: 1;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .action-btn.claim {
            background: linear-gradient(90deg, var(--success), #2ec571);
            color: white;
        }
        
        .action-btn.claim:hover {
            background: linear-gradient(90deg, #2ec571, var(--success));
            transform: translateY(-2px);
        }
        
        .action-btn.details {
            background: rgba(91, 140, 255, 0.1);
            color: var(--accent);
            border: 1px solid rgba(91, 140, 255, 0.3);
        }
        
        .action-btn.details:hover {
            background: rgba(91, 140, 255, 0.2);
            transform: translateY(-2px);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--muted);
        }
        
        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--muted);
        }
        
        .empty-text {
            font-size: 1rem;
            max-width: 500px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        /* Notification Alert */
        .notification-alert {
            background: linear-gradient(90deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
            border: 1px solid rgba(255, 107, 107, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            animation: pulseAlert 2s infinite;
        }
        
        @keyframes pulseAlert {
            0%, 100% { border-color: rgba(255, 107, 107, 0.3); }
            50% { border-color: rgba(255, 107, 107, 0.6); }
        }
        
        .alert-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .alert-icon {
            font-size: 1.8rem;
            color: var(--warning);
        }
        
        .alert-text {
            color: var(--text);
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .alert-btn {
            background: var(--warning);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .alert-btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: radial-gradient(120% 120% at 0% 0%, #1b1f3d, var(--card));
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.7);
            transform: translateY(20px);
            transition: transform 0.3s ease;
            border: 1px solid rgba(91, 140, 255, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-image {
            width: 100%;
            max-height: 300px;
            object-fit: contain;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 25px;
        }
        
        .modal-btn {
            padding: 10px 25px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            min-width: 100px;
        }
        
        .modal-btn.primary {
            background: linear-gradient(90deg, var(--accent), #4a7dff);
            color: white;
        }
        
        .modal-btn.primary:hover {
            background: linear-gradient(90deg, #4a7dff, var(--accent));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(91, 140, 255, 0.3);
        }
        
        .modal-btn.cancel {
            background: rgba(155, 160, 198, 0.1);
            color: var(--text);
            border: 1px solid rgba(155, 160, 198, 0.3);
        }
        
        .modal-btn.cancel:hover {
            background: rgba(155, 160, 198, 0.2);
            transform: translateY(-2px);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
            }
            
            .header-nav {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .hero-text {
                font-size: 1.9rem;
            }
            
            .category-selector {
                flex-direction: column;
            }
            
            .form-row, .search-grid {
                grid-template-columns: 1fr;
            }
            
            .properties-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
                text-align: center;
            }
            
            .stats-container {
                flex-direction: row
                ;
                gap: 20px;
            }
            
            .stat-item {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .main-container {
                padding: 20px 15px;
            }
            
            .form-buttons, .modal-buttons {
                flex-direction: column;
            }
            
            .form-btn, .modal-btn {
                width: 100%;
            }
            
            .property-actions {
                flex-direction: column;
            }
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(12, 16, 36, 0.3);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(91, 140, 255, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(91, 140, 255, 0.7);
        }
        
        /* Status Badges */
        .status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-found {
            background: rgba(53, 208, 127, 0.1);
            color: var(--success);
            border: 1px solid rgba(53, 208, 127, 0.3);
        }
        
        .status-pending {
            background: rgba(255, 215, 0, 0.1);
            color: var(--gold);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
        
        .status-claimed {
            background: rgba(91, 140, 255, 0.1);
            color: var(--accent);
            border: 1px solid rgba(91, 140, 255, 0.3);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-title">
            RING-<span class="zero">0</span> | <span>Lost & Found Properties</span>
        </div>
        <div class="header-nav">
            <button class="nav-btn" onclick="switchTab('upload')">
                <i class="fas fa-upload"></i> Report Found Item
            </button>
            
            <button class="nav-btn" onclick="switchTab('gallery')">
                <i class="fas fa-images"></i> View Gallery
                <span class="notification-badge" id="propertiesCount">0</span>
            </button>
            <button class="nav-btn" onclick="goBack()">
                <i class="fas fa-arrow-left"></i> Back to Main
            </button>
        </div>
    </div>

    <!-- Hero Section with Animation -->
    <div class="hero-section">
        <img src="UNI-COT.png" 
             alt="Lost and Found" class="hero-image">
        <div class="hero-text">Future of the Best Smile</div>
    </div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Stats Overview -->
        <div class="stats-container">
            <div class="stat-item">
                <span class="stat-number" id="totalProperties">0</span>
                <span class="stat-label">Total Properties</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="idsFound">0</span>
                <span class="stat-label">IDs Found</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="othersFound">0</span>
                <span class="stat-label">Other Items</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="claimedItems">0</span>
                <span class="stat-label">Claimed Items</span>
            </div>
        </div>

        <!-- Notification Alert (Shows when items are available) -->
        <div class="notification-alert" id="notificationAlert" style="display: none;">
            <div class="alert-content">
                <i class="fas fa-bell alert-icon"></i>
                <div class="alert-text">Someone has found your property! Check the gallery to see if it's yours.</div>
            </div>
            <button class="alert-btn" onclick="switchTab('gallery')">
                View Gallery
            </button>
        </div>

        <!-- Dashboard Tabs -->
        <div class="dashboard-tabs">
            <button class="tab-btn active" onclick="switchTab('upload')">
                <i class="fas fa-cloud-upload-alt"></i> Upload Found Property
            </button>
            <button class="tab-btn" onclick="switchTab('search')">
                <i class="fas fa-search"></i> Search for Property
            </button>
            <button class="tab-btn" onclick="switchTab('gallery')">
                <i class="fas fa-images"></i> Properties Gallery
            </button>
        </div>

        <!-- Upload Found Property Tab -->
        <div class="tab-content active" id="uploadTab">
            <div class="upload-form">
                <div class="form-title">
                    <i class="fas fa-camera"></i> Report a Found Property
                </div>
                
                <!-- Category Selection -->
                <div class="category-selector">
                    <button class="category-btn active" data-category="id" onclick="selectCategory('id')">
                        <i class="fas fa-id-card category-icon"></i>
                        <span>ID Card</span>
                        <small>Found someone's identification card</small>
                    </button>
                    <button class="category-btn" data-category="other" onclick="selectCategory('other')">
                        <i class="fas fa-box category-icon"></i>
                        <span>Other Property</span>
                        <small>Bag, book, cable, etc.</small>
                    </button>
                </div>
                
                <!-- Image Upload Area -->
                <div class="image-upload-area" id="imageUploadArea" onclick="triggerImageUpload()">
                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                    <div class="upload-text">Click to upload or drag & drop property image</div>
                    <div class="upload-hint">Supports JPG, PNG (Max 5MB)</div>
                    <img id="imagePreview" class="preview-image" style="display: none;">
                </div>
                <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                
                <!-- Form Fields (Dynamic based on category) -->
                <div id="idForm" class="category-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Owner's Full Name *</label>
                            <input type="text" class="form-input" id="ownerName" placeholder="Enter the name on the ID">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Registration Number *</label>
                            <input type="text" class="form-input" id="regNumber" placeholder="Enter registration number">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Where did you find it? *</label>
                        <input type="text" class="form-input" id="idLocation" placeholder="e.g., Library, Cafeteria, Parking Lot">
                    </div>
                </div>
                
                <div id="otherForm" class="category-form" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Property Type *</label>
                        <select class="form-select" id="propertyType">
                            <option value="">Select property type</option>
                            <option value="bag">Bag/Backpack</option>
                            <option value="book">Book/Notebook</option>
                            <option value="cable">Cable/Charger</option>
                            <option value="wallet">Wallet/Purse</option>
                            <option value="keys">Keys</option>
                            <option value="electronic">Electronic Device</option>
                            <option value="clothing">Clothing Item</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Describe the Property *</label>
                        <textarea class="form-textarea" id="propertyDescription" placeholder="Describe the property in detail (color, brand, distinguishing features, contents, etc.)"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Where did you find it? *</label>
                        <input type="text" class="form-input" id="otherLocation" placeholder="e.g., Library, Cafeteria, Parking Lot">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Your Contact Information (Optional)</label>
                    <input type="text" class="form-input" id="finderContact" placeholder="Email or phone number for follow-up">
                </div>
                
                <div class="form-buttons">
                    <button class="form-btn secondary" onclick="resetForm()">
                        <i class="fas fa-redo"></i> Reset Form
                    </button>
                    <button class="form-btn primary" onclick="submitProperty()">
                        <i class="fas fa-paper-plane"></i> Submit to Admin
                    </button>
                </div>
            </div>
        </div>

        <!-- Search for Property Tab -->
        <div class="tab-content" id="searchTab">
            <div class="search-section">
                <div class="form-title">
                    <i class="fas fa-search"></i> Search for Your Lost Property
                </div>
                
                <!-- Search Category Selection -->
                <div class="category-selector">
                    <button class="category-btn active" data-search-category="id" onclick="selectSearchCategory('id')">
                        <i class="fas fa-id-card category-icon"></i>
                        <span>Search ID Card</span>
                        <small>By name and registration number</small>
                    </button>
                    <button class="category-btn" data-search-category="other" onclick="selectSearchCategory('other')">
                        <i class="fas fa-box category-icon"></i>
                        <span>Search Other Property</span>
                        <small>By description keywords</small>
                    </button>
                </div>
                
                <!-- Search Forms -->
                <div id="idSearchForm" class="search-form">
                    <div class="search-grid">
                        <div class="form-group">
                            <label class="form-label">Your Name *</label>
                            <input type="text" class="form-input" id="searchName" placeholder="Enter your full name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Registration Number (Optional)</label>
                            <input type="text" class="form-input" id="searchRegNumber" placeholder="Enter your registration number">
                        </div>
                    </div>
                </div>
                
                <div id="otherSearchForm" class="search-form" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Describe Your Property *</label>
                        <textarea class="form-textarea" id="searchDescription" placeholder="Describe what you lost with key details (color, brand, type, etc.)"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Property Type (Optional)</label>
                        <select class="form-select" id="searchPropertyType">
                            <option value="">Select property type</option>
                            <option value="bag">Bag/Backpack</option>
                            <option value="book">Book/Notebook</option>
                            <option value="cable">Cable/Charger</option>
                            <option value="wallet">Wallet/Purse</option>
                            <option value="keys">Keys</option>
                            <option value="electronic">Electronic Device</option>
                            <option value="clothing">Clothing Item</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-buttons">
                    <button class="form-btn secondary" onclick="resetSearch()">
                        <i class="fas fa-redo"></i> Clear Search
                    </button>
                    <button class="form-btn primary" onclick="searchProperty()">
                        <i class="fas fa-search"></i> Search Properties
                    </button>
                </div>
                
                <!-- Search Results -->
                <div id="searchResults" style="margin-top: 30px; display: none;">
                    <div class="form-title">
                        <i class="fas fa-list"></i> Search Results
                    </div>
                    <div id="searchResultsContainer" class="properties-grid">
                        <!-- Search results will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Properties Gallery Tab -->
        <div class="tab-content" id="galleryTab">
            <div class="properties-gallery">
                <div class="gallery-header">
                    <div class="gallery-title">
                        <i class="fas fa-images"></i> Found Properties Gallery
                    </div>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="all" onclick="filterProperties('all')">All</button>
                        <button class="view-btn" data-view="id" onclick="filterProperties('id')">IDs</button>
                        <button class="view-btn" data-view="other" onclick="filterProperties('other')">Others</button>
                        <button class="view-btn" data-view="unclaimed" onclick="filterProperties('unclaimed')">Unclaimed</button>
                    </div>
                </div>
                
                <div id="galleryContainer" class="properties-grid">
                    <!-- Properties will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Property Details Modal -->
    <div class="modal-overlay" id="propertyModal">
        <div class="modal-content">
            <div class="modal-title">
                <i class="fas fa-info-circle"></i> Property Details
            </div>
            <img id="modalImage" class="modal-image" src="" alt="Property Image">
            
            <div class="property-info">
                <div class="info-item">
                    <span class="info-label">Type:</span>
                    <span id="modalType" class="status-badge status-found"></span>
                </div>
                <div class="info-item">
                    <span class="info-label">Found On:</span>
                    <span id="modalDate"></span>
                </div>
                <div class="info-item">
                    <span class="info-label">Location:</span>
                    <span id="modalLocation"></span>
                </div>
                <div id="modalNameItem" class="info-item">
                    <span class="info-label">Owner Name:</span>
                    <span id="modalName"></span>
                </div>
                <div id="modalRegItem" class="info-item">
                    <span class="info-label">Registration No:</span>
                    <span id="modalReg"></span>
                </div>
                <div id="modalDescItem" class="info-item">
                    <span class="info-label">Description:</span>
                    <span id="modalDesc"></span>
                </div>
                <div class="info-item">
                    <span class="info-label">Status:</span>
                    <span id="modalStatus" class="status-badge status-pending"></span>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="modal-btn cancel" onclick="closePropertyModal()">Close</button>
                <button class="modal-btn primary" id="claimButton" onclick="claimProperty()">
                    <i class="fas fa-hand-paper"></i> Claim This Property
                </button>
            </div>
        </div>
    </div>

    <!-- Claim Property Modal -->
    <div class="modal-overlay" id="claimModal">
        <div class="modal-content">
            <div class="modal-title">
                <i class="fas fa-hand-paper"></i> Claim Property
            </div>
            
            <div class="form-group">
                <label class="form-label">Your Full Name *</label>
                <input type="text" class="form-input" id="claimantName" placeholder="Enter your full name">
            </div>
            
            <div class="form-group">
                <label class="form-label">Contact Information *</label>
                <input type="text" class="form-input" id="claimantContact" placeholder="Email or phone number">
            </div>
            
            <div class="form-group">
                <label class="form-label">Additional Proof (Optional)</label>
                <textarea class="form-textarea" id="claimProof" placeholder="Provide any additional information to prove ownership"></textarea>
            </div>
            
            <div class="modal-buttons">
                <button class="modal-btn cancel" onclick="closeClaimModal()">Cancel</button>
                <button class="modal-btn primary" onclick="submitClaim()">
                    <i class="fas fa-paper-plane"></i> Submit Claim Request
                </button>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let properties = [];
        let filteredProperties = [];
        let currentPropertyId = null;
        let selectedCategory = 'id';
        let selectedSearchCategory = 'id';
        let currentView = 'all';
        
        // Sample data for demonstration
        const sampleProperties = [
            {
                id: 1,
                category: 'id',
                image: 'https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
                name: 'John Doe',
                regNumber: 'REG2023001',
                description: 'University ID card with blue background',
                location: 'Main Library, 2nd Floor',
                date: '2023-10-15',
                status: 'unclaimed',
                type: 'Student ID',
                finderContact: 'finder@example.com'
            },
            {
                id: 2,
                category: 'other',
                image: 'https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2080&q=80',
                name: '',
                regNumber: '',
                description: 'Black leather wallet with credit cards and driver license',
                location: 'Cafeteria, Table near window',
                date: '2023-10-14',
                status: 'unclaimed',
                type: 'Wallet',
                finderContact: 'anonymous'
            },
            {
                id: 3,
                category: 'id',
                image: 'https://images.unsplash.com/photo-1611944212121-9c5fa5c33d42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
                name: 'Jane Smith',
                regNumber: 'REG2023002',
                description: 'Employee ID with access card',
                location: 'Parking Lot B',
                date: '2023-10-13',
                status: 'claimed',
                type: 'Employee ID',
                finderContact: 'security@campus.com'
            },
            {
                id: 4,
                category: 'other',
                image: 'https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
                name: '',
                regNumber: '',
                description: 'Red backpack with laptop compartment and water bottle pocket',
                location: 'Bus Stop near Main Gate',
                date: '2023-10-12',
                status: 'unclaimed',
                type: 'Backpack',
                finderContact: 'busdriver@transit.com'
            }
        ];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadProperties();
            updateStats();
            
            // Set up drag and drop for image upload
            setupDragAndDrop();
            
            // Check if there are properties and show notification
            checkForPropertiesNotification();
        });

        // Load properties from localStorage
        function loadProperties() {
            try {
                const savedProperties = localStorage.getItem('ring0_properties');
                if (savedProperties) {
                    properties = JSON.parse(savedProperties);
                } else {
                    // Use sample data if none exist
                    properties = sampleProperties;
                    localStorage.setItem('ring0_properties', JSON.stringify(properties));
                }
                
                // Update counts
                updatePropertiesCount();
                
                // Load gallery
                loadGallery();
                
            } catch (e) {
                console.error('Error loading properties:', e);
                showMessage('Error loading properties data', 'error');
                properties = sampleProperties;
                loadGallery();
            }
        }

        // Save properties to localStorage
        function saveProperties() {
            try {
                localStorage.setItem('ring0_properties', JSON.stringify(properties));
                updatePropertiesCount();
                updateStats();
                checkForPropertiesNotification();
            } catch (e) {
                console.error('Error saving properties:', e);
            }
        }

        // Update properties count in notification badge
        function updatePropertiesCount() {
            const badge = document.getElementById('propertiesCount');
            if (badge) {
                const unclaimedCount = properties.filter(p => p.status === 'unclaimed').length;
                badge.textContent = unclaimedCount;
                badge.style.display = unclaimedCount > 0 ? 'flex' : 'none';
            }
        }

        // Update statistics
        function updateStats() {
            const totalProperties = properties.length;
            const idsFound = properties.filter(p => p.category === 'id').length;
            const othersFound = properties.filter(p => p.category === 'other').length;
            const claimedItems = properties.filter(p => p.status === 'claimed').length;
            
            document.getElementById('totalProperties').textContent = totalProperties;
            document.getElementById('idsFound').textContent = idsFound;
            document.getElementById('othersFound').textContent = othersFound;
            document.getElementById('claimedItems').textContent = claimedItems;
        }

        // Check if there are properties and show notification
        function checkForPropertiesNotification() {
            const notificationAlert = document.getElementById('notificationAlert');
            const unclaimedCount = properties.filter(p => p.status === 'unclaimed').length;
            
            if (unclaimedCount > 0) {
                notificationAlert.style.display = 'flex';
            } else {
                notificationAlert.style.display = 'none';
            }
        }

        // Switch between tabs
        function switchTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            const selectedTab = document.getElementById(tabId + 'Tab');
            if (selectedTab) {
                selectedTab.classList.add('active');
                
                // Activate corresponding tab button
                const tabBtn = document.querySelector(`.tab-btn[onclick="switchTab('${tabId}')"]`);
                if (tabBtn) {
                    tabBtn.classList.add('active');
                }
                
                // Refresh data for the tab
                if (tabId === 'gallery') {
                    loadGallery();
                } else if (tabId === 'search') {
                    resetSearch();
                }
            }
        }

        // Go back to main page
        function goBack() {
            window.history.back();
        }

        // Category selection for upload
        function selectCategory(category) {
            selectedCategory = category;
            
            // Update UI
            document.querySelectorAll('.category-btn[data-category]').forEach(btn => {
                if (btn.getAttribute('data-category') === category) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Show/hide forms
            if (category === 'id') {
                document.getElementById('idForm').style.display = 'block';
                document.getElementById('otherForm').style.display = 'none';
            } else {
                document.getElementById('idForm').style.display = 'none';
                document.getElementById('otherForm').style.display = 'block';
            }
        }

        // Category selection for search
        function selectSearchCategory(category) {
            selectedSearchCategory = category;
            
            // Update UI
            document.querySelectorAll('.category-btn[data-search-category]').forEach(btn => {
                if (btn.getAttribute('data-search-category') === category) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Show/hide forms
            if (category === 'id') {
                document.getElementById('idSearchForm').style.display = 'block';
                document.getElementById('otherSearchForm').style.display = 'none';
            } else {
                document.getElementById('idSearchForm').style.display = 'none';
                document.getElementById('otherSearchForm').style.display = 'block';
            }
        }

        // Setup drag and drop for image upload
        function setupDragAndDrop() {
            const uploadArea = document.getElementById('imageUploadArea');
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                
                if (e.dataTransfer.files.length) {
                    handleImageUpload({ target: { files: e.dataTransfer.files } });
                }
            });
        }

        // Trigger image upload
        function triggerImageUpload() {
            document.getElementById('imageInput').click();
        }

        // Handle image upload
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                showMessage('File size should be less than 5MB', 'error');
                return;
            }
            
            // Check file type
            if (!file.type.match('image.*')) {
                showMessage('Please select an image file', 'error');
                return;
            }
            
            // Preview image
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('imagePreview');
                preview.src = e.target.result;
                preview.style.display = 'block';
                
                // Update upload area text
                const uploadText = document.querySelector('.image-upload-area .upload-text');
                uploadText.textContent = 'Image uploaded successfully';
                uploadText.style.color = 'var(--success)';
            };
            reader.readAsDataURL(file);
        }

        // Reset form
        function resetForm() {
            // Reset image preview
            const preview = document.getElementById('imagePreview');
            preview.src = '';
            preview.style.display = 'none';
            
            // Reset upload area text
            const uploadText = document.querySelector('.image-upload-area .upload-text');
            uploadText.textContent = 'Click to upload or drag & drop property image';
            uploadText.style.color = 'var(--muted)';
            
            // Reset form fields
            document.getElementById('ownerName').value = '';
            document.getElementById('regNumber').value = '';
            document.getElementById('idLocation').value = '';
            document.getElementById('propertyType').value = '';
            document.getElementById('propertyDescription').value = '';
            document.getElementById('otherLocation').value = '';
            document.getElementById('finderContact').value = '';
            
            // Reset file input
            document.getElementById('imageInput').value = '';
            
            // Reset to ID category
            selectCategory('id');
            
            showMessage('Form has been reset', 'success');
        }

        // Submit property to admin
        function submitProperty() {
            // Get image
            const imageInput = document.getElementById('imageInput');
            const imagePreview = document.getElementById('imagePreview');
            
            if (!imageInput.files[0] && !imagePreview.src) {
                showMessage('Please upload an image of the property', 'error');
                return;
            }
            
            // Validate based on category
            if (selectedCategory === 'id') {
                const ownerName = document.getElementById('ownerName').value.trim();
                const regNumber = document.getElementById('regNumber').value.trim();
                const location = document.getElementById('idLocation').value.trim();
                
                if (!ownerName) {
                    showMessage('Please enter the owner\'s name', 'error');
                    return;
                }
                
                if (!regNumber) {
                    showMessage('Please enter the registration number', 'error');
                    return;
                }
                
                if (!location) {
                    showMessage('Please enter where you found the property', 'error');
                    return;
                }
                
                // Create property object
                const newProperty = {
                    id: properties.length > 0 ? Math.max(...properties.map(p => p.id)) + 1 : 1,
                    category: 'id',
                    image: imagePreview.src || 'https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
                    name: ownerName,
                    regNumber: regNumber,
                    description: `ID card found at ${location}`,
                    location: location,
                    date: new Date().toISOString().split('T')[0],
                    status: 'unclaimed',
                    type: 'ID Card',
                    finderContact: document.getElementById('finderContact').value.trim()
                };
                
                properties.push(newProperty);
                
            } else {
                const propertyType = document.getElementById('propertyType').value;
                const description = document.getElementById('propertyDescription').value.trim();
                const location = document.getElementById('otherLocation').value.trim();
                
                if (!propertyType) {
                    showMessage('Please select the property type', 'error');
                    return;
                }
                
                if (!description) {
                    showMessage('Please describe the property', 'error');
                    return;
                }
                
                if (!location) {
                    showMessage('Please enter where you found the property', 'error');
                    return;
                }
                
                // Create property object
                const typeLabels = {
                    'bag': 'Bag/Backpack',
                    'book': 'Book/Notebook',
                    'cable': 'Cable/Charger',
                    'wallet': 'Wallet/Purse',
                    'keys': 'Keys',
                    'electronic': 'Electronic Device',
                    'clothing': 'Clothing Item',
                    'other': 'Other Property'
                };
                
                const newProperty = {
                    id: properties.length > 0 ? Math.max(...properties.map(p => p.id)) + 1 : 1,
                    category: 'other',
                    image: imagePreview.src || 'https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2080&q=80',
                    name: '',
                    regNumber: '',
                    description: description,
                    location: location,
                    date: new Date().toISOString().split('T')[0],
                    status: 'unclaimed',
                    type: typeLabels[propertyType] || 'Other Property',
                    finderContact: document.getElementById('finderContact').value.trim()
                };
                
                properties.push(newProperty);
            }
            
            // Save properties and reset form
            saveProperties();
            resetForm();
            
            // Show success message
            showMessage('Property submitted to admin successfully!', 'success');
            
            // Switch to gallery to see the new property
            setTimeout(() => {
                switchTab('gallery');
            }, 1500);
        }

        // Reset search
        function resetSearch() {
            document.getElementById('searchName').value = '';
            document.getElementById('searchRegNumber').value = '';
            document.getElementById('searchDescription').value = '';
            document.getElementById('searchPropertyType').value = '';
            
            document.getElementById('searchResults').style.display = 'none';
            
            selectSearchCategory('id');
        }

        // Search property
        function searchProperty() {
            let searchResults = [];
            
            if (selectedSearchCategory === 'id') {
                const searchName = document.getElementById('searchName').value.trim().toLowerCase();
                const searchReg = document.getElementById('searchRegNumber').value.trim().toLowerCase();
                
                if (!searchName) {
                    showMessage('Please enter your name to search', 'error');
                    return;
                }
                
                // Search in ID properties
                searchResults = properties.filter(p => 
                    p.category === 'id' && 
                    p.status === 'unclaimed' &&
                    (p.name.toLowerCase().includes(searchName) || 
                     (searchReg && p.regNumber.toLowerCase().includes(searchReg)))
                );
                
            } else {
                const searchDescription = document.getElementById('searchDescription').value.trim().toLowerCase();
                const searchType = document.getElementById('searchPropertyType').value;
                
                if (!searchDescription) {
                    showMessage('Please describe your property to search', 'error');
                    return;
                }
                
                // Search in other properties
                searchResults = properties.filter(p => 
                    p.category === 'other' && 
                    p.status === 'unclaimed' &&
                    (p.description.toLowerCase().includes(searchDescription) ||
                     p.type.toLowerCase().includes(searchDescription))
                );
                
                // Filter by type if selected
                if (searchType) {
                    searchResults = searchResults.filter(p => {
                        const typeMap = {
                            'bag': ['bag', 'backpack'],
                            'book': ['book', 'notebook'],
                            'cable': ['cable', 'charger'],
                            'wallet': ['wallet', 'purse'],
                            'keys': ['key', 'keys'],
                            'electronic': ['electronic', 'device', 'phone', 'laptop'],
                            'clothing': ['clothing', 'clothes', 'jacket', 'shirt'],
                            'other': ['other']
                        };
                        
                        const searchTerms = typeMap[searchType] || [searchType];
                        return searchTerms.some(term => 
                            p.type.toLowerCase().includes(term) || 
                            p.description.toLowerCase().includes(term)
                        );
                    });
                }
            }
            
            // Display results
            displaySearchResults(searchResults);
        }

        // Display search results
        function displaySearchResults(results) {
            const resultsContainer = document.getElementById('searchResultsContainer');
            const resultsSection = document.getElementById('searchResults');
            
            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-icon"></div>
                        <h3 class="empty-title">No Properties Found</h3>
                        <p class="empty-text">No properties match your search criteria. Try adjusting your search terms or check back later.</p>
                    </div>
                `;
                resultsSection.style.display = 'block';
                return;
            }
            
            resultsContainer.innerHTML = '';
            
            results.forEach(property => {
                const propertyCard = createPropertyCard(property);
                resultsContainer.appendChild(propertyCard);
            });
            
            resultsSection.style.display = 'block';
        }

        // Load gallery
        function loadGallery() {
            const galleryContainer = document.getElementById('galleryContainer');
            
            if (properties.length === 0) {
                galleryContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-icon"></div>
                        <h3 class="empty-title">No Properties Found</h3>
                        <p class="empty-text">No properties have been reported yet. Be the first to report a found item!</p>
                        <button class="form-btn primary" onclick="switchTab('upload')">
                            <i class="fas fa-upload"></i> Report Found Item
                        </button>
                    </div>
                `;
                return;
            }
            
            // Filter properties based on current view
            let filtered = [...properties];
            
            if (currentView === 'id') {
                filtered = filtered.filter(p => p.category === 'id');
            } else if (currentView === 'other') {
                filtered = filtered.filter(p => p.category === 'other');
            } else if (currentView === 'unclaimed') {
                filtered = filtered.filter(p => p.status === 'unclaimed');
            }
            
            galleryContainer.innerHTML = '';
            
            if (filtered.length === 0) {
                galleryContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-icon"></div>
                        <h3 class="empty-title">No Properties in This Category</h3>
                        <p class="empty-text">No properties match the current filter. Try selecting a different category.</p>
                    </div>
                `;
                return;
            }
            
            filtered.forEach(property => {
                const propertyCard = createPropertyCard(property);
                galleryContainer.appendChild(propertyCard);
            });
        }

        // Create property card element
        function createPropertyCard(property) {
            const card = document.createElement('div');
            card.className = 'property-card';
            
            // Format date
            const date = new Date(property.date);
            const formattedDate = date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
            
            // Determine status badge
            let statusBadge = '';
            if (property.status === 'claimed') {
                statusBadge = `<span class="status-badge status-claimed">Claimed</span>`;
            } else {
                statusBadge = `<span class="status-badge status-pending">Unclaimed</span>`;
            }
            
            // Determine type badge
            const typeBadge = `<span class="property-type">${property.type}</span>`;
            
            card.innerHTML = `
                <img src="${property.image}" alt="${property.type}" class="property-image">
                <div class="property-content">
                    <div class="property-header">
                        ${typeBadge}
                        <div class="property-date">${formattedDate}</div>
                    </div>
                    ${property.category === 'id' ? `
                        <div class="property-title">${property.name}</div>
                        <div class="property-details">Registration: ${property.regNumber}</div>
                    ` : `
                        <div class="property-title">${property.type}</div>
                        <div class="property-details">${property.description.substring(0, 80)}${property.description.length > 80 ? '...' : ''}</div>
                    `}
                    <div class="property-info">
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Found at: ${property.location}</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-info-circle"></i>
                            <span>Status: ${statusBadge}</span>
                        </div>
                    </div>
                    <div class="property-actions">
                        <button class="action-btn details" onclick="viewPropertyDetails(${property.id})">
                            <i class="fas fa-eye"></i> View Details
                        </button>
                        ${property.status === 'unclaimed' ? `
                            <button class="action-btn claim" onclick="openClaimModal(${property.id})">
                                <i class="fas fa-hand-paper"></i> Claim
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
            
            return card;
        }

        // Filter properties in gallery
        function filterProperties(view) {
            currentView = view;
            
            // Update active button
            document.querySelectorAll('.view-btn').forEach(btn => {
                if (btn.getAttribute('data-view') === view) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Reload gallery
            loadGallery();
        }

        // View property details
        function viewPropertyDetails(propertyId) {
            const property = properties.find(p => p.id === propertyId);
            if (!property) return;
            
            currentPropertyId = propertyId;
            
            // Format date
            const date = new Date(property.date);
            const formattedDate = date.toLocaleDateString('en-US', { 
                weekday: 'long',
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            // Update modal content
            document.getElementById('modalImage').src = property.image;
            document.getElementById('modalType').textContent = property.type;
            document.getElementById('modalDate').textContent = formattedDate;
            document.getElementById('modalLocation').textContent = property.location;
            
            if (property.category === 'id') {
                document.getElementById('modalNameItem').style.display = 'flex';
                document.getElementById('modalRegItem').style.display = 'flex';
                document.getElementById('modalDescItem').style.display = 'none';
                document.getElementById('modalName').textContent = property.name;
                document.getElementById('modalReg').textContent = property.regNumber;
            } else {
                document.getElementById('modalNameItem').style.display = 'none';
                document.getElementById('modalRegItem').style.display = 'none';
                document.getElementById('modalDescItem').style.display = 'flex';
                document.getElementById('modalDesc').textContent = property.description;
            }
            
            // Update status
            const statusElement = document.getElementById('modalStatus');
            statusElement.textContent = property.status === 'claimed' ? 'Claimed' : 'Unclaimed';
            statusElement.className = property.status === 'claimed' ? 'status-badge status-claimed' : 'status-badge status-pending';
            
            // Show/hide claim button
            const claimButton = document.getElementById('claimButton');
            if (property.status === 'claimed') {
                claimButton.style.display = 'none';
            } else {
                claimButton.style.display = 'inline-flex';
            }
            
            // Show modal
            document.getElementById('propertyModal').classList.add('active');
        }

        // Close property details modal
        function closePropertyModal() {
            document.getElementById('propertyModal').classList.remove('active');
            currentPropertyId = null;
        }

        // Open claim modal
        function openClaimModal(propertyId) {
            currentPropertyId = propertyId;
            document.getElementById('claimModal').classList.add('active');
            
            // Reset form
            document.getElementById('claimantName').value = '';
            document.getElementById('claimantContact').value = '';
            document.getElementById('claimProof').value = '';
        }

        // Close claim modal
        function closeClaimModal() {
            document.getElementById('claimModal').classList.remove('active');
            currentPropertyId = null;
        }

        // Submit claim request
        function submitClaim() {
            const claimantName = document.getElementById('claimantName').value.trim();
            const claimantContact = document.getElementById('claimantContact').value.trim();
            
            if (!claimantName) {
                showMessage('Please enter your name', 'error');
                return;
            }
            
            if (!claimantContact) {
                showMessage('Please enter your contact information', 'error');
                return;
            }
            
            // Update property status
            const propertyIndex = properties.findIndex(p => p.id === currentPropertyId);
            if (propertyIndex !== -1) {
                properties[propertyIndex].status = 'claimed';
                properties[propertyIndex].claimantName = claimantName;
                properties[propertyIndex].claimantContact = claimantContact;
                properties[propertyIndex].claimProof = document.getElementById('claimProof').value.trim();
                properties[propertyIndex].claimDate = new Date().toISOString().split('T')[0];
                
                saveProperties();
            }
            
            // Close modals
            closeClaimModal();
            closePropertyModal();
            
            // Show success message
            showMessage('Claim request submitted successfully! Admin will contact you shortly.', 'success');
            
            // Reload gallery
            setTimeout(() => {
                loadGallery();
            }, 500);
        }

        // Claim property directly from details modal
        function claimProperty() {
            openClaimModal(currentPropertyId);
        }

        // Show message
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.textContent = message;
            messageDiv.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: ${type === 'error' ? 'rgba(255, 107, 107, 0.9)' : 'rgba(53, 208, 127, 0.9)'};
                color: white;
                padding: 12px 24px;
                border-radius: 10px;
                z-index: 9999;
                font-weight: 600;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                animation: slideInRight 0.3s ease;
            `;
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(messageDiv);
                }, 300);
            }, 3000);
            
            // Add CSS animations if not already present
            if (!document.querySelector('#message-animations')) {
                const style = document.createElement('style');
                style.id = 'message-animations';
                style.textContent = `
                    @keyframes slideInRight {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOutRight {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Close modals when clicking outside
        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    if (this.id === 'propertyModal') {
                        closePropertyModal();
                    } else if (this.id === 'claimModal') {
                        closeClaimModal();
                    }
                }
            });
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePropertyModal();
                closeClaimModal();
            }
        });
    </script>
</body>
</html>
